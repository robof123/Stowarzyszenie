const _0x2a1e2f=_0x3a33;(function(_0x218862,_0x5eeece){const _0x40b737=_0x3a33,_0x20fa1f=_0x218862();while(!![]){try{const _0x7874a3=parseInt(_0x40b737(0x166))/0x1+parseInt(_0x40b737(0x144))/0x2*(-parseInt(_0x40b737(0x163))/0x3)+parseInt(_0x40b737(0x14c))/0x4+parseInt(_0x40b737(0x17d))/0x5*(parseInt(_0x40b737(0x147))/0x6)+parseInt(_0x40b737(0x16b))/0x7*(-parseInt(_0x40b737(0x17a))/0x8)+parseInt(_0x40b737(0x139))/0x9*(-parseInt(_0x40b737(0x181))/0xa)+parseInt(_0x40b737(0x162))/0xb;if(_0x7874a3===_0x5eeece)break;else _0x20fa1f['push'](_0x20fa1f['shift']());}catch(_0x21f1e7){_0x20fa1f['push'](_0x20fa1f['shift']());}}}(_0x4223,0x23b4f));import{initializeApp}from'https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js';function _0x4223(){const _0x590237=['#end-time','1:164727625782:web:4b2057ccc4ac964cb12097','textContent','665UsscUJ','clientX','block','bottom','ref','Nieznane\x20miejsce','width','add','push','height','Kliknij\x20na\x20pinezkę,\x20aby\x20ją\x20usunąć.','.info-box','getElementById','getBoundingClientRect','Czy\x20na\x20pewno\x20chcesz\x20usunąć\x20pinezkę:\x20','24632QJXerR','data','pins','82255RGLBhc','stopPropagation','Podaj\x20nazwę\x20dla\x20tej\x20pinezki:','element','160TPfSuG','delete-pin-btn','find','Pinezka\x20usunięta\x20z\x20Firestore!','Kliknij\x20na\x20mapę,\x20aby\x20dodać\x20pinezkę.','classList','closest','removeChild','admin-panel-btn','removable','checked','innerHTML','close-admin-panel','Stanowisko\x20zostało\x20zwolnione.','93609wyTvhC','forEach','pin','title','display','stawy-e23a6.firebasestorage.app','style','Pinezka\x20dodana\x20z\x20ID:\x20','click','#occupied','removeEventListener','59084mjOxtM','2-digit','none','6XowPRB','left','Ta\x20Pinezka\x20jest\x20chroniona\x20hasłem.\x20Podaj\x20hasło,\x20aby\x20usunąć\x20tę\x20pinezkę:','add-pin-btn','error','454856NdDkrC','Błąd\x20przy\x20usuwaniu\x20pinezki:\x20','toLocaleString','createElement','Niepoprawne\x20hasło.\x20Nie\x20można\x20usunąć\x20tej\x20pinezki.','filter','</div>\x0a\x20\x20\x20\x20\x20\x20<label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22checkbox\x22\x20id=\x22occupied\x22\x20onchange=\x22toggleOccupied(this)\x22>\x20Zajęte\x0a\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20<label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Do\x20której\x20godziny:\x20<input\x20type=\x22time\x22\x20id=\x22end-time\x22>\x0a\x20\x20\x20\x20\x20\x20</label>\x0a\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22releaseSpot(this)\x22>Zwolnij\x20stanowisko</button>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22refreshSpot(this)\x22>Odśwież\x20stanowisko</button>\x0a\x20\x20\x20\x20\x20\x20<div>Ostatnie\x20odświeżenie:\x20<span\x20class=\x22last-refresh\x22>Brak</span></div>\x0a\x20\x20','clientY','G-L9PGCQBMF7','toLocaleTimeString','map','stawy-e23a6.firebaseapp.com','getHours','addEventListener','top','Stanowisko\x20jest\x20już\x20wolne.','setHours','.last-refresh','appendChild','DOMContentLoaded','\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22pin-name\x22><strong>Stanowisko:</strong>\x20','querySelector','4885320BIcCCu','3iVjFGT','div','active','60433pdzOFA','name'];_0x4223=function(){return _0x590237;};return _0x4223();}import{getFirestore,collection,addDoc,getDocs,deleteDoc,query,where}from'https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js';const firebaseConfig={'apiKey':'AIzaSyBCvbCEnfpX5W5dM8Wj0NatOaPsUQyPCr0','authDomain':_0x2a1e2f(0x157),'projectId':'stawy-e23a6','storageBucket':_0x2a1e2f(0x13e),'messagingSenderId':'164727625782','appId':_0x2a1e2f(0x169),'measurementId':_0x2a1e2f(0x154)},app=initializeApp(firebaseConfig),db=getFirestore(app),mapElement=document[_0x2a1e2f(0x177)](_0x2a1e2f(0x156)),adminPanel=document[_0x2a1e2f(0x177)]('admin-panel'),adminPanelBtn=document[_0x2a1e2f(0x177)](_0x2a1e2f(0x133)),closeAdminPanel=document[_0x2a1e2f(0x177)](_0x2a1e2f(0x137)),addPinButton=document['getElementById'](_0x2a1e2f(0x14a)),deletePinButton=document[_0x2a1e2f(0x177)](_0x2a1e2f(0x182));let addingPin=![],deletingPin=![],pins=[],isAdminPanelVisible=![];async function addPinToFirestore(_0x57fe2b,_0x1acc6b,_0x1f6dc0,_0x4757af){const _0x296682=_0x2a1e2f;try{const _0x1c05c2=await addDoc(collection(db,_0x296682(0x17c)),{'x':_0x57fe2b,'y':_0x1acc6b,'name':_0x1f6dc0,'removable':_0x4757af});console['log'](_0x296682(0x140),_0x1c05c2['id']);}catch(_0x57e151){console[_0x296682(0x14b)]('Błąd\x20przy\x20dodawaniu\x20dokumentu:\x20',_0x57e151);}}async function loadPinsFromFirestore(){const _0xebf79c=_0x2a1e2f;try{const _0x59ca7d=await getDocs(collection(db,_0xebf79c(0x17c)));_0x59ca7d[_0xebf79c(0x13a)](_0x571a88=>{const _0x546038=_0xebf79c,_0x9f3537=_0x571a88[_0x546038(0x17b)]();createPin(_0x9f3537['x'],_0x9f3537['y'],_0x9f3537[_0x546038(0x167)],_0x9f3537[_0x546038(0x134)]);});}catch(_0x151369){console['error']('Błąd\x20podczas\x20ładowania\x20pinezek\x20z\x20Firestore:\x20',_0x151369);}}function createPin(_0x546641,_0x23df69,_0x97cce1=_0x2a1e2f(0x170),_0x4cdec4=!![]){const _0x329a67=_0x2a1e2f,_0x246322=document[_0x329a67(0x14f)](_0x329a67(0x164));_0x246322['classList'][_0x329a67(0x172)](_0x329a67(0x13b)),_0x246322[_0x329a67(0x13f)][_0x329a67(0x148)]=_0x546641+'%',_0x246322[_0x329a67(0x13f)]['top']=_0x23df69+'%',_0x246322[_0x329a67(0x13c)]=_0x97cce1;const _0x40771f=document[_0x329a67(0x14f)](_0x329a67(0x164));_0x40771f['classList']['add']('info-box'),_0x40771f[_0x329a67(0x136)]=_0x329a67(0x160)+_0x97cce1+_0x329a67(0x152),_0x246322[_0x329a67(0x159)]('click',_0x52ce6b=>{const _0x455459=_0x329a67;if(deletingPin){if(!_0x4cdec4){const _0xc15d5d=prompt(_0x455459(0x149));_0xc15d5d==='QETUOP'?confirm(_0x455459(0x179)+_0x97cce1+'?')&&(mapElement[_0x455459(0x132)](_0x246322),pins=pins[_0x455459(0x151)](_0x2a5342=>_0x2a5342['element']!==_0x246322),deletePinFromFirestore(_0x97cce1)):alert(_0x455459(0x150));return;}confirm(_0x455459(0x179)+_0x97cce1+'?')&&(mapElement[_0x455459(0x132)](_0x246322),pins=pins['filter'](_0x5740ab=>_0x5740ab[_0x455459(0x180)]!==_0x246322),deletePinFromFirestore(_0x97cce1));}else _0x52ce6b[_0x455459(0x17e)](),closeAllInfoBoxes(),_0x40771f[_0x455459(0x130)][_0x455459(0x172)](_0x455459(0x165));}),_0x40771f[_0x329a67(0x159)]('click',_0x4284a9=>{const _0x430a98=_0x329a67;_0x4284a9[_0x430a98(0x17e)]();}),_0x246322['appendChild'](_0x40771f),mapElement[_0x329a67(0x15e)](_0x246322),pins[_0x329a67(0x173)]({'x':_0x546641,'y':_0x23df69,'name':_0x97cce1,'removable':_0x4cdec4,'element':_0x246322});}async function deletePinFromFirestore(_0x5481f8){const _0x154626=_0x2a1e2f;try{const _0x38428f=query(collection(db,_0x154626(0x17c)),where(_0x154626(0x167),'==',_0x5481f8)),_0x161f66=await getDocs(_0x38428f);_0x161f66[_0x154626(0x13a)](async _0x3c8d1f=>{const _0x3715b4=_0x154626;await deleteDoc(_0x3c8d1f[_0x3715b4(0x16f)]),console['log'](_0x3715b4(0x12e));});}catch(_0x138030){console['error'](_0x154626(0x14d),_0x138030);}}function toggleAdminPanel(){const _0x55fa29=_0x2a1e2f;adminPanel[_0x55fa29(0x13f)][_0x55fa29(0x13d)]===_0x55fa29(0x146)||adminPanel[_0x55fa29(0x13f)][_0x55fa29(0x13d)]===''?adminPanel['style'][_0x55fa29(0x13d)]=_0x55fa29(0x16d):adminPanel[_0x55fa29(0x13f)]['display']=_0x55fa29(0x146);}function startAddingPin(){const _0x36db67=_0x2a1e2f;addingPin=!![],alert(_0x36db67(0x12f)),mapElement['addEventListener']('click',handleMapClick);}function handleMapClick(_0x2e5041){const _0xec8903=_0x2a1e2f;if(!addingPin)return;const _0xae67d0=mapElement[_0xec8903(0x178)](),_0x3720aa=(_0x2e5041['clientX']-_0xae67d0['left'])/_0xae67d0[_0xec8903(0x171)]*0x64,_0x394be1=(_0x2e5041[_0xec8903(0x153)]-_0xae67d0[_0xec8903(0x15a)])/_0xae67d0['height']*0x64,_0x247278=prompt(_0xec8903(0x17f));_0x247278&&confirm('Czy\x20chcesz\x20dodać\x20pinezkę\x20w\x20tym\x20miejscu?')&&(createPin(_0x3720aa,_0x394be1,_0x247278),addPinToFirestore(_0x3720aa,_0x394be1,_0x247278,!![])),addingPin=![],mapElement[_0xec8903(0x143)](_0xec8903(0x141),handleMapClick);}function startDeletingPin(){const _0x5e9e57=_0x2a1e2f;deletingPin=!![],alert(_0x5e9e57(0x175)),mapElement['addEventListener'](_0x5e9e57(0x141),handleMapClickDelete);}function handleMapClickDelete(_0x4fa765){const _0x14f249=_0x2a1e2f;if(!deletingPin)return;const _0xa96616=mapElement[_0x14f249(0x178)](),_0x4b41f1=(_0x4fa765[_0x14f249(0x16c)]-_0xa96616[_0x14f249(0x148)])/_0xa96616[_0x14f249(0x171)]*0x64,_0x2d3a7a=(_0x4fa765[_0x14f249(0x153)]-_0xa96616[_0x14f249(0x15a)])/_0xa96616[_0x14f249(0x174)]*0x64,_0x13c460=pins[_0x14f249(0x12d)](_0x7a03b9=>{const _0x326c0b=_0x14f249,_0x1311a3=_0x7a03b9[_0x326c0b(0x180)]['getBoundingClientRect']();return _0x4b41f1>=_0x1311a3[_0x326c0b(0x148)]/_0xa96616['width']*0x64&&_0x4b41f1<=_0x1311a3['right']/_0xa96616[_0x326c0b(0x171)]*0x64&&_0x2d3a7a>=_0x1311a3['top']/_0xa96616['height']*0x64&&_0x2d3a7a<=_0x1311a3[_0x326c0b(0x16e)]/_0xa96616[_0x326c0b(0x174)]*0x64;});_0x13c460&&(confirm(_0x14f249(0x179)+_0x13c460[_0x14f249(0x167)]+'?')&&(mapElement[_0x14f249(0x132)](_0x13c460['element']),pins=pins[_0x14f249(0x151)](_0xcceaf5=>_0xcceaf5!==_0x13c460),deletePinFromFirestore(_0x13c460['name']))),deletingPin=![],mapElement[_0x14f249(0x143)]('click',handleMapClickDelete);}function toggleOccupied(_0x51524e){const _0x2e1133=_0x2a1e2f,_0x192c32=_0x51524e[_0x2e1133(0x131)](_0x2e1133(0x176)),_0x3efe57=_0x192c32[_0x2e1133(0x161)](_0x2e1133(0x168));if(_0x51524e[_0x2e1133(0x135)]){const _0x11f4f2=new Date();_0x11f4f2[_0x2e1133(0x15c)](_0x11f4f2[_0x2e1133(0x158)]()+0x1),_0x3efe57['value']=_0x11f4f2[_0x2e1133(0x155)]([],{'hour':_0x2e1133(0x145),'minute':_0x2e1133(0x145)});}}function _0x3a33(_0x2cd0e8,_0x43a9eb){const _0x422394=_0x4223();return _0x3a33=function(_0x3a33bd,_0x20b634){_0x3a33bd=_0x3a33bd-0x12d;let _0x24c470=_0x422394[_0x3a33bd];return _0x24c470;},_0x3a33(_0x2cd0e8,_0x43a9eb);}function releaseSpot(_0x276531){const _0xc00434=_0x2a1e2f,_0x18de47=_0x276531[_0xc00434(0x131)](_0xc00434(0x176)),_0xfd61e7=_0x18de47[_0xc00434(0x161)](_0xc00434(0x142));_0xfd61e7[_0xc00434(0x135)]?(_0xfd61e7[_0xc00434(0x135)]=![],alert(_0xc00434(0x138))):alert(_0xc00434(0x15b));}function refreshSpot(_0x5c020c){const _0x4897fa=_0x2a1e2f,_0x174704=_0x5c020c[_0x4897fa(0x131)](_0x4897fa(0x176)),_0x36500a=_0x174704[_0x4897fa(0x161)](_0x4897fa(0x15d)),_0x5b3869=new Date()[_0x4897fa(0x14e)]();_0x36500a[_0x4897fa(0x16a)]=_0x5b3869,alert('Stanowisko\x20zostało\x20odświeżone.');}adminPanelBtn[_0x2a1e2f(0x159)]('click',toggleAdminPanel),closeAdminPanel[_0x2a1e2f(0x159)](_0x2a1e2f(0x141),()=>adminPanel[_0x2a1e2f(0x13f)]['display']=_0x2a1e2f(0x146)),addPinButton['addEventListener']('click',startAddingPin),deletePinButton['addEventListener'](_0x2a1e2f(0x141),startDeletingPin),window[_0x2a1e2f(0x159)](_0x2a1e2f(0x15f),loadPinsFromFirestore);
